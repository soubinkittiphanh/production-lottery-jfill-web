(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a31adcaa"],{"0efe":function(t,e,r){},"4df4":function(t,e,r){"use strict";var a=r("0366"),n=r("7b0b"),o=r("9bdd"),i=r("e95a"),c=r("50c4"),l=r("8418"),s=r("35a1");t.exports=function(t){var e,r,d,u,g,b,f=n(t),p="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,m=void 0!==y,O=s(f),j=0;if(m&&(y=a(y,h>2?arguments[2]:void 0,2)),void 0==O||p==Array&&i(O))for(e=c(f.length),r=new p(e);e>j;j++)b=m?y(f[j],j):f[j],l(r,j,b);else for(u=O.call(f),g=u.next,r=new p;!(d=g.call(u)).done;j++)b=m?o(u,y,[d.value,j],!0):d.value,l(r,j,b);return r.length=j,r}},"690f":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3");function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function n(t,e){if(t){if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}},"9bdd":function(t,e,r){var a=r("825a"),n=r("2a62");t.exports=function(t,e,r,o){try{return o?e(a(r)[0],r[1]):e(r)}catch(i){throw n(t),i}}},a3e6:function(t,e,r){"use strict";r.r(e);var a=r("7a23"),n=Object(a["withScopeId"])("data-v-e4aa6cc4");Object(a["pushScopeId"])("data-v-e4aa6cc4");var o={class:"container"},i={class:"form-group row"},c=Object(a["createVNode"])("label",{for:"roll_id",class:"col-md-12 col-form-label"},"ລາຍງາຍຜູ້ໂຊກດີ: ",-1),l={class:"col-md-12"},s=Object(a["createVNode"])("label",{for:"roll_id",class:"col-md-12 col-form-label"},null,-1),d={class:"col-md-12"},u=Object(a["createVNode"])("button",{class:"btn btn-success"},"ດຶງຂໍ້ມູນ",-1),g={key:0,class:"fa fa-spinner fa-spin fa-3x fa-fw"},b={key:1,style:{color:"red"}};Object(a["popScopeId"])();var f=n((function(t,e,r,n,f,p){var h=Object(a["resolveComponent"])("PaginationBranchWinOnPayrate");return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])("form",{onSubmit:e[2]||(e[2]=Object(a["withModifiers"])((function(){return p.getData&&p.getData.apply(p,arguments)}),["prevent"]))},[Object(a["createVNode"])("div",i,[c,Object(a["createVNode"])("div",l,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"date",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return f.r_date=t})},null,512),[[a["vModelText"],f.r_date]])]),s,Object(a["createVNode"])("div",d,[u,Object(a["createTextVNode"])(" | "+Object(a["toDisplayString"])(p.formatdate(f.r_date)),1)])])],32),Object(a["createVNode"])(h),f.isloading?(Object(a["openBlock"])(),Object(a["createBlock"])("i",g)):!f.isloading&&f.error?(Object(a["openBlock"])(),Object(a["createBlock"])("p",b,Object(a["toDisplayString"])(f.error),1)):Object(a["createCommentVNode"])("",!0)])})),p=r("b85c"),h={class:""},y={class:"center"},m={key:0,class:"fa fa-spinner fa-spin fa-3x fa-fw"},O={key:1,style:{color:"red"}},j={class:"alert alert-success"},v={class:"table table-striped"},S={style:{"text-align":"right"}},w={style:{"text-align":"right"}},k={style:{"text-align":"right"}},D={style:{"text-align":"right"}},N={style:{"text-align":"right"}},V={style:{"text-align":"right"}},_={style:{"text-align":"right"}},x={style:{"text-align":"right"}},B={style:{"text-align":"right"}},P={style:{"text-align":"right"}},L={style:{"text-align":"right"}},A={style:{"text-align":"right"}},R={style:{"text-align":"right"}},C={style:{"text-align":"right"}},F={style:{"text-align":"right",color:"blue"}};function I(t,e,r,n,o,i){var c=Object(a["resolveComponent"])("VueTailwindPagination");return Object(a["openBlock"])(),Object(a["createBlock"])("div",h,[Object(a["createVNode"])("div",y,[o.isloading?(Object(a["openBlock"])(),Object(a["createBlock"])("i",m)):!o.isloading&&o.error?(Object(a["openBlock"])(),Object(a["createBlock"])("p",O,Object(a["toDisplayString"])(o.error),1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("div",j,"ສາຂາທັງໝົດ: "+Object(a["toDisplayString"])(null==t.originData?0:t.originData.length),1),Object(a["createVNode"])("table",v,[Object(a["createVNode"])("thead",null,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(o.tableHeader,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("th",{scope:"col",key:t},Object(a["toDisplayString"])(t),1)})),128))])]),Object(a["createVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(o.winreportList,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t.id},[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(o.tableHeader,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{"text-align":"right"},key:e},Object(a["toDisplayString"])(t[e].toLocaleString()),1)})),128))])})),128)),Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(o.tableFooter,(function(t){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{"text-align":"right"},key:t},Object(a["toDisplayString"])(t),1)})),128))]),Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",S,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",w,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",k,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",D,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",N,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",V,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",_,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",x,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",B,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",P,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",L,Object(a["toDisplayString"])(o.val),1),Object(a["createVNode"])("td",A,Object(a["toDisplayString"])(i.totalWin.toLocaleString()),1),Object(a["createVNode"])("td",R,Object(a["toDisplayString"])(i.totalSale.toLocaleString()),1),Object(a["createVNode"])("td",C,Object(a["toDisplayString"])(i.totalCommission.toLocaleString()),1),Object(a["createVNode"])("td",F,Object(a["toDisplayString"])(i.profitAndLose.toLocaleString()),1)])])]),Object(a["createVNode"])(c,{current:t.currentPage,total:t.totalPage,"per-page":t.perPage,onPageChanged:e[1]||(e[1]=function(t){return i.onPageClick(t)})},null,8,["current","total","per-page"])])}var T=r("1da1"),H=(r("96cf"),r("7db0"),r("b0c0"),r("84a7"),r("a242")),M=r("c181"),$={components:{VueTailwindPagination:H["a"]},data:function(){return{val:"",tableHeader:[],tableFooter:["","","","","","","","","","","","ລວມຍອດຖືກ","ລວມຍອດຂາຍ","ເປີເຊັນຂາຍ","ກຳໄລ/ຂາດທຶນ"],isloading:!1,error:null,winreportList:[],page:{currentPage:0,totalPage:0,perPage:5}}},computed:{totalSale:function(){var t=this.winreportList.reduce((function(t,e){return t+ +e.grandTotalSale}),0);return t},totalWin:function(){var t=this.winreportList.reduce((function(t,e){return t+ +e.prize}),0);return t},totalCommission:function(){var t=this.winreportList.reduce((function(t,e){return t+ +e.com_sale}),0);return t},profitAndLose:function(){var t=this.winreportList.reduce((function(t,e){return t+ +e.return}),0);return t}},methods:{formatNum:function(t){return(new Intl.NumberFormat).format(t)},viewUser:function(t){var e=this.winreportList.find((function(e){return e.id===t}));console.log(":::::::::::::"+e.lname),this.$emit("update-branch",t,e.code,e.name,e.lname,e.commrate)},onPageClick:function(t){this.currentPage=t,this.getData(this.currentPage)},getData:function(t){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function r(){var a,n,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(a=[],n=e.perPage,o=0;o<n;o++)i=1!=t?t*n-n+o:o,i===e.total-1&&(o=n+1),a.push({id:e.originData[i].id,code:e.originData[i].code,name:e.originData[i].name,commrate:e.originData[i].commrate,lname:e.originData[i].lname});e.winreportList=a;case 4:case"end":return r.stop()}}),r)})))()},branchWinReport:function(){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isloading=!0,t.error=null,e.next=4,M["a"].get("winreport_group").then((function(e){t.winreportList=[],t.tableHeader=[];var r,a=Object(p["a"])(e.data.fieldList);try{for(a.s();!(r=a.n()).done;){var n=r.value;t.tableHeader.push(n)}}catch(l){a.e(l)}finally{a.f()}t.tableHeader.push("com_sale"),t.tableHeader.push("return");var o,i=Object(p["a"])(e.data.bothRows);try{for(i.s();!(o=i.n()).done;){var c=o.value;t.winreportList.push(c),c.com_sale=c.co_comm*c.grandTotalSale/100,c.return=c.grandTotalSale-(c.com_sale+c.prize)}}catch(l){i.e(l)}finally{i.f()}t.page.totalPage=t.winreportList.length,t.isloading=!1})).catch((function(e){t.isloading=!1,t.error=e,alert("ເກີດຂໍ້ຜິດພາດການເຊື່ອມຕໍ່ເຊີເວີ derrrr: "+e)}));case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.page.currentPage=1,this.branchWinReport()}},W=r("d959"),U=r.n(W);const z=U()($,[["render",I]]);var J=z,Y={components:{PaginationBranchWinOnPayrate:J},created:function(){this.setCurDate(),this.getPayRate()},data:function(){return{report_data:[],r_date:"",isloading:!1,error:null,payR:[]}},computed:{getSumSale:function(){var t,e=0,r=Object(p["a"])(this.report_data);try{for(r.s();!(t=r.n()).done;){var a=t.value;e+=this.getPaid(a.sale_num)*a.sale_price/1e3}}catch(n){r.e(n)}finally{r.f()}return this.formatNum(e)},isAdmin:function(){return this.$store.getters.isAdmin},mem_id:function(){return this.$store.getters.user_id},mem_master:function(){return this.$store.getters.isMaster}},methods:{getPaid:function(t){var e=0;return 2===t.length?e=this.payR[0].pay_two:3===t.length?e=this.payR[0].pay_three:4===t.length?e=this.payR[0].pay_four:5===t.length?e=this.payR[0].pay_five:6===t.length&&(e=this.payR[0].pay_six),e},getPayRate:function(){var t=this;this.error=null,this.isloading=!0,M["a"].get("getpayrate").then((function(e){t.payR=e.data,t.isloading=!1})).catch((function(e){t.error=e,t.isloading=!1}))},getData:function(){var t=this;this.error=null,this.isloading=!0,M["a"].get("winreport",{params:{p_date:this.r_date,p_admin:this.isAdmin,p_mem_id:this.mem_id,p_master:this.mem_master}}).then((function(e){console.log("DATA==============="+e.data),t.report_data=e.data,t.isloading=!1})).catch((function(e){t.error=e,t.isloading=!1}))},formatNum:function(t){return(new Intl.NumberFormat).format(t)},formatdate:function(t){var e=new Date(t),r=""+(e.getMonth()+1),a=""+e.getDate();return r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),e=a+"-"+r+"-"+e.getFullYear(),e},setCurDate:function(){var t=new Date,e=""+(t.getMonth()+1),r=""+t.getDate();e.length<2&&(e="0"+e),r.length<2&&(r="0"+r),this.r_date=t.getFullYear()+"-"+e+"-"+r}}};r("f0c8");const E=U()(Y,[["render",f],["__scopeId","data-v-e4aa6cc4"]]);e["default"]=E},a630:function(t,e,r){var a=r("23e7"),n=r("4df4"),o=r("1c7e"),i=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:n})},b85c:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");var a=r("690f");function n(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=Object(a["a"])(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,i=t},f:function(){try{c||null==r["return"]||r["return"]()}finally{if(l)throw i}}}}},d28b:function(t,e,r){var a=r("746f");a("iterator")},e01a:function(t,e,r){"use strict";var a=r("23e7"),n=r("83ab"),o=r("da84"),i=r("5135"),c=r("861d"),l=r("9bf2").f,s=r("e893"),d=o.Symbol;if(n&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof g?new d(t):void 0===t?d():d(t);return""===t&&(u[e]=!0),e};s(g,d);var b=g.prototype=d.prototype;b.constructor=g;var f=b.toString,p="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;l(b,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=f.call(t);if(i(u,t))return"";var r=p?e.slice(7,-1):e.replace(h,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:g})}},f0c8:function(t,e,r){"use strict";r("0efe")},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("861d"),o=r("e8b5"),i=r("23cb"),c=r("50c4"),l=r("fc6a"),s=r("8418"),d=r("b622"),u=r("1dde"),g=u("slice"),b=d("species"),f=[].slice,p=Math.max;a({target:"Array",proto:!0,forced:!g},{slice:function(t,e){var r,a,d,u=l(this),g=c(u.length),h=i(t,g),y=i(void 0===e?g:e,g);if(o(u)&&(r=u.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return f.call(u,h,y);for(a=new(void 0===r?Array:r)(p(y-h,0)),d=0;h<y;h++,d++)h in u&&s(a,d,u[h]);return a.length=d,a}})}}]);
//# sourceMappingURL=chunk-a31adcaa.f9019794.js.map