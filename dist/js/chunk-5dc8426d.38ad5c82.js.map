{"version":3,"sources":["webpack:///./src/views/MemberList.vue?70be","webpack:///./src/views/MemberList.vue","webpack:///./src/components/PaginationControl.vue","webpack:///./src/components/PaginationControl.vue?0f95","webpack:///./src/views/MemberList.vue?f108"],"names":["class","datas","users","edituser","style","id","scope","isloading","error","total","mem_master","toggleDetail","showBrcRe","brcreport","d","key","brc_code","String","formatNum","total_com1","win_amount","branchExtract","totalsale","totalcom3","totalwin","totalcom5","totalreturn","data","name","branch","group","logid","comsale","winamount","comwin","active","viewUser","current","currentPage","per-page","perPage","onPageClick","$event","components","VueTailwindPagination","props","this","originData","com_sale","com_win","total_com2","methods","val","Intl","NumberFormat","format","$emit","event","getData","pageNumber","responseData","pl","i","push","lname","logpass","vill","dist","pro","admin","fetchBrcReport","get","then","res","console","log","results","origin_brc_report","catch","e","alert","fetchuser","params","p_mem_id","mem_id","p_master","mem_name","group_code","mem_lname","mem_pass","mem_village","mem_dist","mem_pro","length","er","created","mounted","computed","$store","getters","user_id","isMaster","forEach","cocode","co_code","sel_brc","find","el","__exports__","MemberPagination","$router","render"],"mappings":"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","file":"js/chunk-5dc8426d.38ad5c82.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MemberList.vue?vue&type=style&index=0&id=4e0a0697&scoped=true&lang=css\"","<template>\n  <div class=\"container\">\n    <member-pagination :datas=\"users\" @update-user=\"edituser\">\n    </member-pagination>\n  </div>\n</template>\n<script>\nimport MemberPagination from \"../components/PaginationControl\";\nexport default {\n  components: {\n    MemberPagination,\n  },\n  data() {\n    return {\n      isloading: true,\n      error: null,\n      users: [],\n    };\n  },\n  methods: {\n    formatNum(val) {\n      return new Intl.NumberFormat().format(val);\n    },\n    edituser(id) {\n      this.$router.push(\"/member/\" + id);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.center {\n  margin: auto;\n  width: 60%;\n  padding: 10px;\n}\n\n</style>","<template>\n  <div class=\"\">\n    <div class=\"center\">\n      <i class=\"fa fa-spinner fa-spin fa-3x fa-fw\" v-if=\"isloading\"></i>\n      <p v-else-if=\"!isloading && error\" style=\"color: red\">{{ error }}</p>\n    </div>\n    <div class=\"alert alert-success\">\n      ສະມາຊິກທັງຫມົດ:\n      {{ total }}\n      <button v-if=\"mem_master == 1\" class=\"btn btn-warning\" @click=\"toggleDetail\">ປີດ-ເປີດ ລາຍງານສາຂາ</button>\n      <table v-if=\"showBrcRe\" class=\"table table-striped table-sm\" id=\"branchreport\">\n        <thead>\n          <tr>\n            <th scope=\"col\">ສາຂາ</th>\n            <th scope=\"col\">ຍອດຂາຍ</th>\n            <th scope=\"col\">%ຂາຍ</th>\n            <th scope=\"col\">ລວມຖືກລາງວັນ</th>\n            <th scope=\"col\">ຍອດສົ່ງຄືນ</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"d in brcreport\" v-bind:key=\"d.brc_code\">\n            <td>{{ d.brc_code }}</td>\n            <td>{{ String(formatNum(d.total)) }}</td>\n            <td>{{ String(formatNum(d.total_com1)) }}</td>\n            <td>{{ String(formatNum(d.win_amount)) }}</td>\n            <td>{{ String(formatNum(d.total - (d.total_com1 + d.win_amount))) }}</td>\n          </tr>\n          <tr style=\"color: red\">\n            <th scope=\"col\">ລວມ:</th>\n            <th scope=\"col\">\n              [{{ String(formatNum(branchExtract[0][\"total\"])) }}]\n            </th>\n            <th scope=\"col\">\n              [{{ String(formatNum(branchExtract[0][\"total_com1\"])) }}]\n            </th>\n            <th scope=\"col\">\n              [{{ String(formatNum(branchExtract[0][\"win_amount\"])) }}]\n            </th>\n            <th scope=\"col\">\n              [{{ String(formatNum(branchExtract[0][\"total\"]\n                - (branchExtract[0][\"total_com1\"] + branchExtract[0][\"win_amount\"]))) }}]\n            </th>\n            <th scope=\"col\"></th>\n            <th scope=\"col\"></th>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <table class=\"table table-striped\">\n      <thead>\n        <tr>\n          <th scope=\"col\">ຊື່</th>\n          <th scope=\"col\">ສາຂາ</th>\n          <th scope=\"col\">ກຸ່ມ</th>\n          <th scope=\"col\">ID</th>\n          <th scope=\"col\">ຍອດຂາຍ</th>\n          <th scope=\"col\">%ຂາຍ</th>\n          <th scope=\"col\">ຍອດຖືກ</th>\n          <th scope=\"col\">%ລາງວັນ</th>\n          <th scope=\"col\">ສົ່ງAdmin</th>\n          <th scope=\"col\">Status</th>\n          <th scope=\"col\">ແກ້ໄຂ</th>\n        </tr>\n        <tr style=\"color: red\">\n          <th scope=\"col\">ຫົວຫນ້າສາຂາ%</th>\n          <th scope=\"col\"></th>\n          <th scope=\"col\"></th>\n          <th scope=\"col\"></th>\n          <th scope=\"col\">\n            [{{ String(formatNum(branchExtract[0][\"total\"])) }}]\n          </th>\n          <th scope=\"col\">\n            [{{ String(formatNum(branchExtract[0][\"total_com1\"])) }}]\n          </th>\n          <th scope=\"col\"></th>\n          <th scope=\"col\"></th>\n          <th scope=\"col\">\n            [{{ String(formatNum(branchExtract[0][\"total\"] - (branchExtract[0][\"total_com1\"] +\n              branchExtract[0][\"win_amount\"]\n            ))) }}]\n          </th>\n          <th scope=\"col\"></th>\n          <th scope=\"col\"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>ລວມຍອດທັງໝົດ:</td>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td>[{{ String(formatNum(totalsale)) }}]</td>\n          <td>[{{ String(formatNum(totalcom3)) }}]</td>\n          <td>[{{ String(formatNum(totalwin)) }}]</td>\n          <td>[{{ String(formatNum(totalcom5)) }}]</td>\n          <td>[{{ String(formatNum(totalreturn)) }}]</td>\n          <td></td>\n          <td></td>\n        </tr>\n        <tr v-for=\"d in data\" v-bind:key=\"d.id\">\n          <td>{{ d.name }}</td>\n          <td>{{ d.branch }}</td>\n          <td>{{ d.group }}</td>\n          <td>{{ d.logid }}</td>\n          <td>{{ String(formatNum(d.total)) }}</td>\n          <td>{{ String(formatNum((d.total * d.comsale) / 100)) }}</td>\n          <td>{{ String(formatNum(d.winamount)) }}</td>\n          <td>{{ String(formatNum((d.winamount * d.comwin) / 100)) }}</td>\n          <td>\n            {{\n              String(\n                formatNum(\n                  d.total -\n                  (d.total * d.comsale) / 100 -\n                  d.winamount -\n                  (d.winamount * d.comwin) / 100\n                )\n              )\n            }}\n          </td>\n          <td>{{ d.active === 1 ? \"ໃຊ້ງານຢູ່\" : \"Block\" }}</td>\n          <td>\n            <button class=\"btn btn-warning\" @click=\"viewUser(d.id)\">\n              ແກ້ໄຂ\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <VueTailwindPagination :current=\"currentPage\" :total=\"total\" :per-page=\"perPage\"\n      @page-changed=\"onPageClick($event)\" />\n  </div>\n</template>\n<script>\nimport \"@ocrv/vue-tailwind-pagination/dist/style.css\";\nimport VueTailwindPagination from \"@ocrv/vue-tailwind-pagination\";\nimport axios from \"../axiosConfig\";\nexport default {\n  components: {\n    VueTailwindPagination,\n  },\n  props: [\"datas\"],\n  data() {\n    return {\n      showBrcRe: false,\n      totalsale: 0,\n      totalcom3: 0,\n      totalwin: 0,\n      totalcom5: 0,\n      totalreturn: 0,\n      currentPage: 1,\n      perPage: 2,\n      total: 0,\n      data: this.datas,\n      originData: [],\n      isloading: false,\n      error: null,\n      brcreport: [],\n      branchExtract: [\n        {\n          brc_code: \"\",\n          com_sale: 0,\n          com_win: 0,\n          total_com1: 0,\n          total_com2: 0,\n          totalreturn: 0,\n          win_amount: 0,\n          total: 0,\n        },\n      ],\n    };\n  },\n  methods: {\n    toggleDetail() {\n      if (this.mem_master == 0) return;\n      this.showBrcRe = !this.showBrcRe;\n    },\n    formatNum(val) {\n      return new Intl.NumberFormat().format(val);\n    },\n    viewUser(id) {\n      this.$emit(\"update-user\", id);\n    },\n    onPageClick(event) {\n      this.currentPage = event;\n      this.getData(this.currentPage);\n    },\n    getData(pageNumber) {\n      let responseData = [];\n      const pl = this.perPage;\n      for (let i = 0; i < pl; i++) {\n        let id = pageNumber != 1 ? pageNumber * pl - pl + i : i;\n        if (id === this.total - 1) i = pl + 1;\n        responseData.push({\n          id: this.originData[id].id,\n          name: this.originData[id].name,\n          branch: this.originData[id].branch,\n          group: this.originData[id].group,\n          lname: this.originData[id].lname,\n          logid: this.originData[id].logid,\n          logpass: this.originData[id].logpass,\n          vill: this.originData[id].vill,\n          dist: this.originData[id].dist,\n          pro: this.originData[id].pro,\n          active: this.originData[id].active,\n          admin: this.originData[id].admin,\n          total: this.originData[id].total,\n          comsale: this.originData[id].comsale,\n          comwin: this.originData[id].comwin,\n          winamount: this.originData[id].winamount,\n        });\n      }\n      this.data = responseData;\n    },\n    async fetchBrcReport() {\n      this.isloading = true;\n      this.error = null;\n      axios\n        .get(\"brcreport\", { data: null })\n        .then((res) => {\n          console.log(res);\n          var results = [];\n          console.log(\"====> BEFORE FETCH BRC ORIGIN\");\n          for (const i in res.data) {\n            results.push({\n              brc_code: res.data[i].brc_code,\n              com_sale: res.data[i].com_sale,\n              com_win: res.data[i].total,\n              total_com1: res.data[i].total_com1,\n              total_com2: res.data[i].total_com2,\n              totalreturn: res.data[i].totalreturn,\n              win_amount: res.data[i].win_amount,\n              total: res.data[i].total,\n            });\n          }\n\n          this.brcreport = results;\n          this.branchExtract = this.origin_brc_report;\n          console.log(\"============>\" + this.branchExtract[0][\"brc_code\"]);\n\n          console.log(this.brcreport);\n        })\n        .catch((e) => {\n          alert(\"ERROR: \" + e);\n        });\n    },\n    async fetchuser() {\n      this.isloading = true;\n      this.error = null;\n      axios\n        .get(\"fetchuser\", {\n          params: {\n            p_mem_id: this.mem_id,\n            p_master: this.mem_master,\n          },\n        })\n        .then((res) => {\n          var results = [];\n          for (const id in res.data) {\n            results.push({\n              id: res.data[id].id,\n              name: res.data[id].mem_name,\n              branch: res.data[id].brc_code,\n              group: res.data[id].group_code,\n              lname: res.data[id].mem_lname,\n              logid: res.data[id].mem_id,\n              logpass: res.data[id].mem_pass,\n              vill: res.data[id].mem_village,\n              dist: res.data[id].mem_dist,\n              pro: res.data[id].mem_pro,\n              active: res.data[id].active,\n              admin: res.data[id].admin,\n              total: res.data[id].total,\n              comsale: res.data[id].com_sale,\n              comwin: res.data[id].com_win,\n              winamount: res.data[id].win_amount,\n            });\n            //Cal total amount of sale, com30, com5, return admin\n            this.totalsale += res.data[id].total;\n            this.totalcom3 +=\n              (res.data[id].total * res.data[id].com_sale) / 100;\n            this.totalwin += res.data[id].win_amount;\n            this.totalcom5 +=\n              (res.data[id].win_amount * res.data[id].com_win) / 100;\n            this.totalreturn +=\n              res.data[id].total -\n              (res.data[id].total * res.data[id].com_sale) / 100 -\n              res.data[id].win_amount -\n              (res.data[id].win_amount * res.data[id].com_win) / 100;\n          }\n          this.users = results;\n          this.data = results;\n          this.originData = this.data;\n          this.total = this.originData.length;\n          this.perPage = 20;\n          this.getData(this.currentPage);\n          this.isloading = false;\n        })\n        .catch((er) => {\n          this.isloading = false;\n          this.error = er;\n          alert(\"ເກີດຂໍ້ຜິດພາດການເຊື່ອມຕໍ່ເຊີເວີ: \" + er);\n        });\n    },\n  },\n  async created() {\n    await this.fetchBrcReport();\n    await this.fetchuser();\n    console.log(\"created: \");\n  },\n  mounted() {\n    console.log(\"mounted: \");\n    this.currentPage = 1;\n  },\n  computed: {\n    mem_id() {\n      return this.$store.getters.user_id;\n    },\n    mem_master() {\n      return this.$store.getters.isMaster;\n    },\n    origin_brc_report() {\n      let branch = [\n        {\n          brc_code: \"\",\n          com_sale: 0,\n          com_win: 0,\n          total_com1: 0,\n          total_com2: 0,\n          totalreturn: 0,\n          win_amount: 0,\n          total: 0,\n        },\n      ];\n      if (this.mem_master == 1) {\n        this.brcreport.forEach((i) => {\n          console.log(\"pppp\" + i[\"brc_code\"]);\n          console.log(branch[0][\"totalreturn\"]);\n          branch = [\n            {\n              brc_code: i[\"brc_code\"],\n              com_sale: branch[0][\"com_sale\"] + i.com_sale,\n              com_win: branch[0][\"com_win\"] + i.com_win,\n              total_com1: branch[0][\"total_com1\"] + i.total_com1,\n              total_com2: branch[0][\"total_com2\"] + i.total_com2,\n              totalreturn: branch[0][\"totalreturn\"] + i.totalreturn,\n              win_amount: branch[0][\"win_amount\"] + i.win_amount,\n              total: branch[0][\"total\"] + i.total,\n            },\n          ];\n        });\n        return branch;\n      }\n      const cocode = this.$store.getters.co_code;\n      console.log(\"cocode\" + cocode);\n      let sel_brc = this.brcreport.find((el) => el[\"brc_code\"] == cocode);\n      branch = [sel_brc];\n      return branch;\n    },\n  },\n};\n</script>","import { render } from \"./PaginationControl.vue?vue&type=template&id=36433cb6\"\nimport script from \"./PaginationControl.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationControl.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/soubinkittiphanh/Desktop/Pro/lottery/web/backup/lottery_lao_web_vue_3/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MemberList.vue?vue&type=template&id=4e0a0697&scoped=true\"\nimport script from \"./MemberList.vue?vue&type=script&lang=js\"\nexport * from \"./MemberList.vue?vue&type=script&lang=js\"\n\nimport \"./MemberList.vue?vue&type=style&index=0&id=4e0a0697&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/soubinkittiphanh/Desktop/Pro/lottery/web/backup/lottery_lao_web_vue_3/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e0a0697\"]])\n\nexport default __exports__"],"sourceRoot":""}